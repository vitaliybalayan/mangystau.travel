$(document).ready((function(){const e=function(e){let t,n,i,a=e.images,r=[],o=a[0].clientWidth,l=a[0].clientHeight,m=e.parent,u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0);n=u>o?u:o,i=l;let c=new THREE.WebGLRenderer({antialias:!1});c.setPixelRatio(window.devicePixelRatio),c.setClearColor(2303786,1),c.setSize(n,i),c.domElement.className="bg-wrapper bg",m.appendChild(c.domElement);let d=new THREE.TextureLoader;d.crossOrigin="anonymous",a.forEach(e=>{t=d.load(e.getAttribute("src")+"?v="+Date.now()),t.magFilter=t.minFilter=THREE.LinearFilter,t.anisotropy=c.capabilities.getMaxAnisotropy(),r.push(t)});let g=new THREE.Scene;g.background=new THREE.Color(2303786);let p=new THREE.OrthographicCamera(u/-2,u/2,s/2,s/-2,1,1e3);p.position.z=1;let f=new THREE.ShaderMaterial({uniforms:{dispFactor:{type:"f",value:0},currentImage:{type:"t",value:r[0]},nextImage:{type:"t",value:r[1]}},vertexShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}\n\t\t",fragmentShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tuniform sampler2D currentImage;\n\t\t\tuniform sampler2D nextImage;\n\t\t\tuniform float dispFactor;\n\t\t\tvoid main() {\n\t\t\t\tvec2 uv = vUv;\n\t\t\t\tvec4 _currentImage;\n\t\t\t\tvec4 _nextImage;\n\t\t\t\tfloat intensity = 0.3;\n\t\t\t\tvec4 orig1 = texture2D(currentImage, uv);\n\t\t\t\tvec4 orig2 = texture2D(nextImage, uv);\n\t\t\t\t_currentImage = texture2D(currentImage, vec2(uv.x, uv.y + dispFactor * (orig2 * intensity)));\n\t\t\t\t_nextImage = texture2D(nextImage, vec2(uv.x, uv.y + (1.0 - dispFactor) * (orig1 * intensity)));\n\t\t\t\tvec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n\t\t\t\tgl_FragColor = finalTexture;\n\t\t\t}\n\t\t",transparent:!0,opacity:1}),v=new THREE.PlaneBufferGeometry(m.offsetWidth,m.offsetHeight,1),x=new THREE.Mesh(v,f);x.position.set(0,0,0),g.add(x);!function(){let e=Array.from(document.getElementById("main-slider-pagination").querySelectorAll("button")),t=!1;e.forEach(e=>{e.addEventListener("click",(function(){if(!t){t=!0,document.getElementById("main-slider-pagination").querySelectorAll(".active")[0].className="m-s-footer-menu--item",this.className="m-s-footer-menu--item active";let e=parseInt(this.dataset.slide,10);f.uniforms.nextImage.value=r[e],f.uniforms.nextImage.needsUpdate=!0,TweenLite.to(f.uniforms.dispFactor,1,{value:1,ease:"Expo.easeInOut",onComplete:function(){f.uniforms.currentImage.value=r[e],f.uniforms.currentImage.needsUpdate=!0,f.uniforms.dispFactor.value=0,t=!1}});let n=document.getElementById("main-slide-block"),i=document.getElementById("slide-status"),a=document.querySelectorAll(`[data-slide-block="${e}"]`)[0].innerHTML,o=document.querySelectorAll(`[data-slide-status="${e}"]`)[0].innerHTML;TweenLite.fromTo(n,.5,{autoAlpha:1,filter:"blur(0px)",y:0},{autoAlpha:0,filter:"blur(10px)",y:20,ease:"Expo.easeIn",onComplete:function(){n.innerHTML=a,TweenLite.to(n,.5,{autoAlpha:1,filter:"blur(0px)",y:0})}}),TweenLite.fromTo(i,.5,{autoAlpha:1,filter:"blur(0px)",y:0},{autoAlpha:0,filter:"blur(10px)",y:20,ease:"Expo.easeIn",onComplete:function(){i.innerHTML=o,TweenLite.to(i,.5,{autoAlpha:1,filter:"blur(0px)",y:0,delay:.1})}})}}))})}(),window.addEventListener("resize",(function(e){c.setSize(n,i)}));let y=function(){requestAnimationFrame(y),c.render(g,p)};y()};imagesLoaded(document.querySelectorAll("img"),()=>{const t=document.getElementById("main-slider"),n=Array.from(t.querySelectorAll("img"));new e({parent:t,images:n})})}));