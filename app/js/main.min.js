$(document).ready((function(){const e=function(e){let t,n,a,i=e.images,r=[],o=i[0].clientWidth,l=i[0].clientHeight,u=e.parent,m=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0);n=m>o?m:o,a=l;let c=new THREE.WebGLRenderer({antialias:!1});c.setPixelRatio(window.devicePixelRatio),c.setClearColor(2303786,1),c.setSize(n,a),u.appendChild(c.domElement);let d=new THREE.TextureLoader;d.crossOrigin="anonymous",i.forEach(e=>{t=d.load(e.getAttribute("src")+"?v="+Date.now()),t.magFilter=t.minFilter=THREE.LinearFilter,t.anisotropy=c.capabilities.getMaxAnisotropy(),r.push(t)});let g=new THREE.Scene;g.background=new THREE.Color(2303786);let p=new THREE.OrthographicCamera(m/-2,m/2,s/2,s/-2,1,1e3);p.position.z=1;let f=new THREE.ShaderMaterial({uniforms:{dispFactor:{type:"f",value:0},currentImage:{type:"t",value:r[0]},nextImage:{type:"t",value:r[1]}},vertexShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}\n\t\t",fragmentShader:"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tuniform sampler2D currentImage;\n\t\t\tuniform sampler2D nextImage;\n\n\t\t\tuniform float dispFactor;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec2 uv = vUv;\n\t\t\t\tvec4 _currentImage;\n\t\t\t\tvec4 _nextImage;\n\t\t\t\tfloat intensity = 0.3;\n\n\t\t\t\tvec4 orig1 = texture2D(currentImage, uv);\n\t\t\t\tvec4 orig2 = texture2D(nextImage, uv);\n\t\t\t\t\n\t\t\t\t_currentImage = texture2D(currentImage, vec2(uv.x, uv.y + dispFactor * (orig2 * intensity)));\n\n\t\t\t\t_nextImage = texture2D(nextImage, vec2(uv.x, uv.y + (1.0 - dispFactor) * (orig1 * intensity)));\n\n\t\t\t\tvec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n\n\t\t\t\tgl_FragColor = finalTexture;\n\n\t\t\t}\n\t\t",transparent:!0,opacity:1}),v=new THREE.PlaneBufferGeometry(u.offsetWidth,u.offsetHeight,1),y=new THREE.Mesh(v,f);y.position.set(0,0,0),g.add(y);!function(){let e=Array.from(document.getElementById("main-slider-pagination").querySelectorAll("button")),t=!1;e.forEach(e=>{e.addEventListener("click",(function(){if(!t){t=!0,document.getElementById("main-slider-pagination").querySelectorAll(".active")[0].className="m-s-footer-menu--item",this.className="m-s-footer-menu--item active";let e=parseInt(this.dataset.slide,10);f.uniforms.nextImage.value=r[e],f.uniforms.nextImage.needsUpdate=!0,TweenLite.to(f.uniforms.dispFactor,1,{value:1,ease:"Expo.easeInOut",onComplete:function(){f.uniforms.currentImage.value=r[e],f.uniforms.currentImage.needsUpdate=!0,f.uniforms.dispFactor.value=0,t=!1}});let n=document.getElementById("slide-title"),a=document.getElementById("slide-status"),i=document.querySelectorAll(`[data-slide-title="${e}"]`)[0].innerHTML,o=document.querySelectorAll(`[data-slide-title="${e}"]`)[0].style.backgroundImage,l=document.querySelectorAll(`[data-slide-status="${e}"]`)[0].style.backgroundImage;TweenLite.fromTo(n,.5,{autoAlpha:1,filter:"blur(0px)",y:0,transform:"scale(1.2)"},{autoAlpha:0,filter:"blur(10px)",y:20,ease:"Expo.easeIn",onComplete:function(){n.innerHTML=i,a.style.backgroundImage=o,TweenLite.to(n,.5,{autoAlpha:1,filter:"blur(0px)",y:0})}}),TweenLite.fromTo(a,.5,{autoAlpha:1,filter:"blur(0px)",y:0},{autoAlpha:0,filter:"blur(10px)",y:20,ease:"Expo.easeIn",onComplete:function(){a.style.backgroundImage=l,TweenLite.to(a,.5,{autoAlpha:1,filter:"blur(0px)",y:0,delay:.1})}})}}))})}(),window.addEventListener("resize",(function(e){c.setSize(n,a)}));let x=function(){requestAnimationFrame(x),c.render(g,p)};x()};imagesLoaded(document.querySelectorAll("img"),()=>{const t=document.getElementById("main-slider"),n=Array.from(t.querySelectorAll("img"));new e({parent:t,images:n})})}));